# Lists and Evaluation

リストの構造と評価規則について解説します。

## 関連する組み込み関数・マクロ

- [quote](../ref/quote) - 式の評価を抑制し、データとして扱う
- [list](../ref/list) - 引数からリストを作成
- [cons](../ref/cons) - 要素とリストを結合
- [car](../ref/car) - リストの先頭要素を取得
- [cdr](../ref/cdr) - リストの残りを取得
- [+](../ref/add) - 数値の加算
- [*](../ref/mul) - 数値の乗算

## リスト

括弧で囲まれた要素の並びがリストです。

```lisp
(1 2 3)           ; 数値のリスト
(a b c)           ; シンボルのリスト
((1 2) (3 4))     ; ネストしたリスト
()                ; 空リスト (nil と同じ)
```

## 評価規則

リストの最初の要素が関数として評価され、残りが引数として渡されます。

```lisp
(+ 1 2)           ; => 3  (1 + 2)
(* (+ 1 2) 4)     ; => 12 ((1 + 2) * 4)
```

### 評価の流れ

1. リストの先頭要素を評価して関数を取得
2. 残りの要素をそれぞれ評価して引数を取得
3. 関数を引数に適用

```lisp
;; (* (+ 1 2) 4) の評価
;; 1. * を評価 → 乗算関数
;; 2. (+ 1 2) を評価 → 3
;; 3. 4 を評価 → 4
;; 4. (* 3 4) → 12
```

## クオート (Quote)

評価を抑制し、式をそのままデータとして扱います。

```lisp
(quote (1 2 3))   ; => (1 2 3)
'(1 2 3)          ; 省略記法
'x                ; => x (シンボルとして)
```

### クオートの用途

- リストをデータとして扱う
- シンボルを文字列的に扱う
- マクロでコードを生成する

```lisp
;; リストをデータとして
(def my-list '(a b c))

;; シンボルとして
(eq 'x 'x)    ; => t
(eq 'x 'y)    ; => nil
```

